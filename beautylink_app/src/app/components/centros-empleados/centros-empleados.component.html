<app-header class="poppins-regular"></app-header>
<div class="main-content">
<app-center-bar class="poppins-regular"></app-center-bar>
<!-- <p class="bienvenido">
  Bienvenido, <span>{{ nombreCentro }}</span>
</p> -->
<div class="title-container">
  <h1 class="title">EMPLEADOS</h1>
  <button class="btn btn-primary"  routerLink="/insertar-empleados">Añadir empleados +</button>
</div>
 <div class="table-container">
  <table>
    <thead>
      <tr class="poppins-semibold">
        <th>Nombre</th>
        <th>Apellidos</th>
        <th>Rol</th>
       <th>Horario inicio</th>
        <th>Horario fin</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody class="poppins-regular">
      <tr *ngFor="let empleado of empleados">
        <td>{{ empleado.nombre }}</td>
        <td>{{ empleado.apellidos }}</td>
        <td>{{ empleado.rol }}</td>
        <td>{{ empleado.horario_inicio.date | date:'shortTime' }}</td>
        <td>{{ empleado.horario_fin.date | date:'shortTime' }}</td>        <td>
        <button (click)="editarEmpleado(empleado)"><svg width = "18" height = "18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M21.2799 6.40005L11.7399 15.94C10.7899 16.89 7.96987 17.33 7.33987 16.7C6.70987 16.07 7.13987 13.25 8.08987 12.3L17.6399 2.75002C17.8754 2.49308 18.1605 2.28654 18.4781 2.14284C18.7956 1.99914 19.139 1.92124 19.4875 1.9139C19.8359 1.90657 20.1823 1.96991 20.5056 2.10012C20.8289 2.23033 21.1225 2.42473 21.3686 2.67153C21.6147 2.91833 21.8083 3.21243 21.9376 3.53609C22.0669 3.85976 22.1294 4.20626 22.1211 4.55471C22.1128 4.90316 22.0339 5.24635 21.8894 5.5635C21.7448 5.88065 21.5375 6.16524 21.2799 6.40005V6.40005Z" stroke="#C5CEE0" stroke-width="1.9200000000000004" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M11 4H6C4.93913 4 3.92178 4.42142 3.17163 5.17157C2.42149 5.92172 2 6.93913 2 8V18C2 19.0609 2.42149 20.0783 3.17163 20.8284C3.92178 21.5786 4.93913 22 6 22H17C19.21 22 20 20.2 20 18V13" stroke="#C5CEE0" stroke-width="1.9200000000000004" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg></button>
        <button (click)="eliminarEmpleado(empleado.id)"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M8.70506 13.3334C8.70506 13.7917 8.34448 14.1667 7.90377 14.1667C7.46307 14.1667 7.10249 13.7917 7.10249 13.3334V10C7.10249 9.54169 7.46307 9.16669 7.90377 9.16669C8.34448 9.16669 8.70506 9.54169 8.70506 10V13.3334ZM13.5127 13.3334C13.5127 13.7917 13.1522 14.1667 12.7115 14.1667C12.2708 14.1667 11.9102 13.7917 11.9102 13.3334V10C11.9102 9.54169 12.2708 9.16669 12.7115 9.16669C13.1522 9.16669 13.5127 9.54169 13.5127 10V13.3334ZM15.1153 15.8334C15.1153 16.2925 14.7563 16.6667 14.314 16.6667H6.30121C5.8589 16.6667 5.49993 16.2925 5.49993 15.8334V6.66669H15.1153V15.8334ZM8.70506 3.60669C8.70506 3.47752 8.87653 3.33335 9.1057 3.33335H11.5095C11.7387 3.33335 11.9102 3.47752 11.9102 3.60669V5.00002H8.70506V3.60669ZM17.5192 5.00002H16.7179H13.5127V3.60669C13.5127 2.53669 12.6145 1.66669 11.5095 1.66669H9.1057C8.00073 1.66669 7.10249 2.53669 7.10249 3.60669V5.00002H3.89736H3.09608C2.65538 5.00002 2.2948 5.37502 2.2948 5.83335C2.2948 6.29169 2.65538 6.66669 3.09608 6.66669H3.89736V15.8334C3.89736 17.2117 4.97589 18.3334 6.30121 18.3334H14.314C15.6394 18.3334 16.7179 17.2117 16.7179 15.8334V6.66669H17.5192C17.9599 6.66669 18.3204 6.29169 18.3204 5.83335C18.3204 5.37502 17.9599 5.00002 17.5192 5.00002Z" fill="#C5CEE0"/>
          <mask id="mask0_1207_444" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="2" y="1" width="17" height="18">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M8.70506 13.3334C8.70506 13.7917 8.34448 14.1667 7.90377 14.1667C7.46307 14.1667 7.10249 13.7917 7.10249 13.3334V10C7.10249 9.54169 7.46307 9.16669 7.90377 9.16669C8.34448 9.16669 8.70506 9.54169 8.70506 10V13.3334ZM13.5127 13.3334C13.5127 13.7917 13.1522 14.1667 12.7115 14.1667C12.2708 14.1667 11.9102 13.7917 11.9102 13.3334V10C11.9102 9.54169 12.2708 9.16669 12.7115 9.16669C13.1522 9.16669 13.5127 9.54169 13.5127 10V13.3334ZM15.1153 15.8334C15.1153 16.2925 14.7563 16.6667 14.314 16.6667H6.30121C5.8589 16.6667 5.49993 16.2925 5.49993 15.8334V6.66669H15.1153V15.8334ZM8.70506 3.60669C8.70506 3.47752 8.87653 3.33335 9.1057 3.33335H11.5095C11.7387 3.33335 11.9102 3.47752 11.9102 3.60669V5.00002H8.70506V3.60669ZM17.5192 5.00002H16.7179H13.5127V3.60669C13.5127 2.53669 12.6145 1.66669 11.5095 1.66669H9.1057C8.00073 1.66669 7.10249 2.53669 7.10249 3.60669V5.00002H3.89736H3.09608C2.65538 5.00002 2.2948 5.37502 2.2948 5.83335C2.2948 6.29169 2.65538 6.66669 3.09608 6.66669H3.89736V15.8334C3.89736 17.2117 4.97589 18.3334 6.30121 18.3334H14.314C15.6394 18.3334 16.7179 17.2117 16.7179 15.8334V6.66669H17.5192C17.9599 6.66669 18.3204 6.29169 18.3204 5.83335C18.3204 5.37502 17.9599 5.00002 17.5192 5.00002Z" fill="white"/>
          </mask>
          <g mask="url(#mask0_1207_444)">
          </g>
          </svg></button>
          
         </td>
      </tr>
    </tbody>
  </table>
</div>

<div *ngIf="editMode" class="poppins-regular">
  <h3 class=" poppins-bold">Editando Empleado</h3>
  <form [formGroup]="empleadosForm" (ngSubmit)="actualizarEmpleado()" class="form-container">
      <div class="form-group">
          <label for="nombre" class="form-label">Nombre:</label>
          <input type="text" formControlName="nombre" class="form-control">
      </div>
      <div class="form-group">
          <label for="apellidos" class="form-label">Apellidos:</label>
          <input type="text" formControlName="apellidos" class="form-control">
      </div>
      <div class="form-group">
          <label for="rol" class="form-label">Rol:</label>
          <input type="text" formControlName="rol" class="form-control">
      </div>
      <div class="form-group">
        <label class="form-label">Hora de inicio:</label>
        <input matInput [ngxTimepicker]="pickerInicio" formControlName="horario_inicio" class="pickerInput">
        <ngx-material-timepicker-toggle matSuffix [for]="pickerInicio" class="pickerToggle"></ngx-material-timepicker-toggle>
        <ngx-material-timepicker #pickerInicio></ngx-material-timepicker>
      </div>
      <div class="form-group">
        <label class="form-label">Hora de finalización:</label>
        <input matInput [ngxTimepicker]="pickerFin" formControlName="horario_fin" class="pickerInput">
        <ngx-material-timepicker-toggle matSuffix [for]="pickerFin" class="pickerToggle"></ngx-material-timepicker-toggle>
        <ngx-material-timepicker #pickerFin></ngx-material-timepicker>
      </div>
      <button type="submit" class="btn btn-primary">Actualizar</button>
  </form>
</div>
